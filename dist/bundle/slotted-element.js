var M=Object.defineProperty,_=Object.defineProperties;var W=Object.getOwnPropertyDescriptors;var L=Object.getOwnPropertySymbols;var z=Object.prototype.hasOwnProperty,G=Object.prototype.propertyIsEnumerable;var P=(e,t,s)=>t in e?M(e,t,{enumerable:!0,configurable:!0,writable:!0,value:s}):e[t]=s,S=(e,t)=>{for(var s in t||(t={}))z.call(t,s)&&P(e,s,t[s]);if(L)for(var s of L(t))G.call(t,s)&&P(e,s,t[s]);return e},R=(e,t)=>_(e,W(t));var F=(e,t)=>()=>(e&&(t=e(e=0)),t);var J=(e,t)=>{for(var s in t)M(e,s,{get:t[s],enumerable:!0})};var v={};J(v,{default:()=>I,json2table:()=>q});async function I(e,t,s,r){await u();let n=this.render(e,t,s,r);this.json2table||(this.json2table=q),this.setContent(n||this.json2table(e,[])),await u()}function q(e,t){if(Array.isArray(e)){if(!e.length)return"";let r=this.getKeys(e[0]);return`
<table>
    <tr>${r.map(n=>`<th>${n}</th>`).join(`
`)}</tr>
    ${e.map((n,o)=>`
    <tr>${r.map(i=>`
        <td key="${T(i)}">
            ${this.json2table(n[i],[...t,o,i])}
        </td>`).join("")}
    </tr>`).join(`
`)}
</table>
`}return typeof e!="object"||e===null?e:`
<table>
    ${this.getKeys(e).map(r=>`
<tr><th>${r}</th>
    <td key="${T(r)}">${this.json2table(e[r],[...t,r])}</td>
</tr>`).join("")}
</table>
`}var D=F(()=>{E()});function u(e){return new Promise(t=>{let s=window.requestIdleCallback||window.requestAnimationFrame,r=()=>t(e&&e());s?s(r):setTimeout(r,100)})}function T(e){return(e||"").toLowerCase().replaceAll(/\s/g,"-")}var _FetchElement,g,E=F(()=>{_FetchElement=class extends HTMLElement{static get observedAttributes(){return["src","method","headers","state","status","error","skiprender"]}static get mime2mod(){return{"application/json":async()=>(await Promise.resolve().then(()=>(D(),v))).default,"text/html":()=>_FetchElement.prototype.renderHtml,"text/xml":()=>_FetchElement.prototype.renderHtml,"application/xml":()=>_FetchElement.prototype.renderHtml,"image/svg+xml":()=>_FetchElement.prototype.renderHtml}}get headers(){return{}}abort(){}fetch(...e){return this._fetch(...e)}constructor(){super();let e=Promise.resolve(),t=new AbortController,{signal:s}=t;this.abort=()=>t.abort(),this._fetch=async(r,n)=>{this.state="loading",this.status="";let o=R(S({method:this.getAttribute("method")||"GET",headers:this.headers},n),{signal:s});return e=new Promise(async(i,m)=>{try{let p=await fetch(r,o),y=await this.onResponse(p),l=await this.onResult(y);this.error?m(this.error):i(l)}catch(p){m(this.onError(p))}})},Object.defineProperty(this,"promise",{get(){return e}}),_FetchElement.observedAttributes.filter(r=>r!=="headers").forEach(r=>Object.defineProperty(this,r,{get:()=>this.getAttribute(r),set:n=>this.setAttribute(r,n)}))}connectedCallback(){this.src&&this.fetch(this.src),this.initialized=!0}attributeChangedCallback(name,oldValue,newValue){switch(name){case"headers":this[name]=eval(newValue);break;case"src":this.initialized&&this.fetch(newValue);break;default:this[name]!==newValue&&(this[name]=newValue)}}async onResponse(e){let t=1*(this.status=e.status);return(t<200||t>=300)&&(this.error="network error"),this.contentType=e.headers.get("content-type"),this.responseHeaders=e.headers,this.contentType.includes("json")?e.json():e.text()}setContent(e){this.innerHTML=e}async onResult(e){try{if(this.hasAttribute("skiprender"))return;let t=await this.constructor.mime2mod[this.contentType.split(";")[0]]();return typeof t=="string"&&(t=(await import(t)).default),this.state="rendering",(t||this.render).call(this,e,this.contentType,this.status,this.responseHeaders)}finally{this.state="loaded"}}render(e,t,s,r){}async renderHtml(e,t,s,r){this.setContent(e),await u(),this.render(...arguments),await u()}onError(e){return this.state="error",e}getKeys(e){return Object.keys(e)}},g=_FetchElement;window.customElements.define("fetch-element",_FetchElement)});E();var dt=Object.getPrototypeOf({}),$=(e,t,s)=>{typeof e[t]=="function"?s.prototype[t]=function(...r){return t.startsWith("get")?this.length?this[0][t](...r):void 0:(this.forEach(n=>n[t](...r)),this)}:Object.defineProperty(s.prototype,t,{get:function(){if(this.length)return this[0][t]},set:function(r){return this.forEach(n=>n[t]=r),r}})};var c=(e,...t)=>Array.prototype.map.apply(e,t),V=(e,...t)=>c(e,...t).join(","),w=e=>c(e,t=>rt(t)).join(""),d=e=>document.createElement(e);function Y(e,t,s){let r=d(e);return r[t]=s,r}function Q(e){return!!e?.nodeType}var X=()=>"",f=e=>Array.isArray(e)||e&&typeof e.forEach=="function",j=(e,t)=>typeof e===t,A=e=>j(e,"string"),Z=e=>j(e,"number"),b=e=>j(e,"function"),tt=e=>e.getRootNode().host,O=e=>tt(e)&&e.assignedNodes,et=(e,t)=>(e.forEach(t),e),B=e=>O(e)?e.assignedNodes().forEach(t=>t.remove()):e.innerHTML="",st={1:e=>e.assignedNodes?w(e.assignedNodes())||w(e.childNodes):["SCRIPT","AUDIO","STYLE","CANVAS","DATALIST","EMBED","OBJECT","PICTURE","IFRAME","METER","NOSCRIPT","SELECT","OPTGROUP","PROGRESS","TEMPLATE","VIDEO"].includes(e.nodeName)?"":e.innerText,3:e=>e.nodeValue,11:e=>w(e.childNodes)},rt=e=>(st[e.nodeType]||X)(e),k=(e,t)=>O(e)?e.assignedElements().forEach(s=>s.innerText=t):e.innerText=t,ot=(e,t)=>e.map(s=>t.appendChild(s)),nt=e=>c(e,t=>t.assignedElements?c(t.assignedElements(),s=>s.outerHTML).join(""):t.innerHTML).join(""),N=e=>{let t=d("div");t.innerHTML=e;let s=r=>{if(r.nodeType!==3)return r;let n=d("span");return n.append(r),n};return[...t.childNodes].map(r=>(r.remove(),r)).map(s)},K=(e,t)=>{let s=(n,o)=>o instanceof Node?o.remove()||n.append(o):N(o).forEach(i=>n.append(i)),r=n=>O(e)?e.assign(...e.assignedNodes(),...ot(et(N(n),o=>o.slot=e.name),e.getRootNode().host)):s(e,n);t instanceof NodeList||f(t)?[...t].forEach(r):r(t)},C=(e,t)=>{B(e),K(e,t)},a=class extends Array{attr(...t){return t.length>1?((t[2]?this.$(t[2]):this).setAttribute(...t),this):this.getAttribute(...t)}prop(...t){return t.length>1?((t[2]?this.$(t[2]):this).forEach(s=>s[t[0]]=t[1]),this):this[0][t[0]]}forEach(...t){return Array.prototype.forEach.apply(this,t),this}map(...t){return c(this,...t)}push(...t){return Array.prototype.push.apply(this,t),this}querySelector(t){return new a().push(this.querySelectorAll(t)[0])}querySelectorAll(t){return this.reduce((s,r)=>s.push(...(r.shadowRoot||r).querySelectorAll(t)),new a)}$(...t){return t.length?this.querySelectorAll(...t):this}parent(t){let s=new Set,r=o=>s.has(o)?0:(s.add(o),o),n=o=>{for(;o=o.parentElement;)if(o.matches(t))return r(o)};return h(this.map(t?n:o=>r(o.parentElement)).filter(o=>o))}on(...t){return this.addEventListener(...t)}append(t){return this.forEach(s=>K(s,t))}remove(...t){return t.length?b(t[1])?this.removeEventListener(...t):this.map(s=>s.matches(t[0])).filter(s=>s):(this.forEach(s=>s.remove()),new a)}erase(){return this.forEach(t=>B(t))}slots(...t){let s=t.length?V(t[0].split(","),o=>['""',"''"].includes(o)||!o?"slot:not([name])":`slot[name="${o}"]`):"slot",r=this.filter(o=>o.matches&&o.matches(s)),n=this.filter(o=>!r.includes(o)&&o.querySelector).map(o=>o.shadowRoot||o).$(t.length?V(t[0].split(","),o=>['""',"''"].includes(o)||!o?"slot:not([name])":`slot[name="${o}"]`):"slot");return t.length===2?(n.html(t[1]),this):h([...r,...n])}template(t){if(t===void 0){let r=this.$("[slot]").forEach(n=>this.$(n.slot?`slot[name="${n.slot}"]`:"slot:not([name])").length||n.parentNode.insertBefore(Y("slot","name",n.slot),n));r.remove(),t=d("template"),this.childNodes.forEach(n=>t.content.append(n)),this.append(r)}else A(t)&&(t=this.$(t),t.remove());let s=h(t.content?t.content.childNodes:t).clone(this);return s.slots().forEach(r=>{let n=this.children.filter(o=>o.slot===r.name);n.length&&C(r,n)}),this.children.remove(),this.append(s),this}get innerText(){return this.txt()}set innerText(t){return this.txt(t)}txt(t,s=void 0){let r=s?this.$(s):this;return t===void 0?w(r):(r.forEach(b(t)?(n,o)=>k(n,t(n,o,r)):n=>k(n,t)),this)}get outerHTML(){return this.map(t=>t.outerHTML).join("")}set outerHTML(t){return this.forEach((s,r,n)=>{let o=s.parentNode;N(b(t)?t(s,r,n):t).forEach(i=>o.insertBefore(n[r]=i,s)),s.remove()})}get innerHTML(){return this.html()}set innerHTML(t){return this.html(t)}html(t,s=void 0){let r=s?this.$(s):this;return t===void 0?nt(r):(r.forEach(b(t)?(n,o)=>C(n,t(n,o,r)):n=>C(n,t)),this)}assignedElements(t){return h([].concat(...this.map(s=>s.assignedElements?s.assignedElements(t):[])))}assignedNodes(t){return h([].concat(...this.map(s=>s.assignedNodes?s.assignedNodes(t):[])))}cloneNode(...t){return this.map(s=>s.cloneNode&&s.cloneNode(...t))}clone(t=1,s=void 0){let r=t;if(Z(t)&&(r=Array.from({length:t},(o,i)=>i)),f(r)){let o=[];return this.forEach(i=>r.forEach((m,p)=>{let y=i.ownerDocument.importNode(i,!0),l=s&&s(y,m,p,r);A(l)?o.push(...N(l)):f(l)?o.push(...l):o.push(Q(l)?l:y)})),h(o)}let n=t;return this.map(o=>n?n.importNode(o,!0):o.cloneNode?o.cloneNode(!0):Object.assign({},o))}get firstElementChild(){return h(this.map(t=>t.firstElementChild).filter(t=>t))}get firstChild(){return h(this.map(t=>t.firstChild).filter(t=>t))}get childNodes(){return h([].concat(...c(this,t=>[...t.childNodes||[]])))}get children(){return h([].concat(...c(this,t=>[...t.children||[]])))}},x=new Set,it=Object.getPrototypeOf({});function U(e,t){let s=A(e)?d(e):e;if(!x.has(s.tagName)){x.add(s.tagName);for(let r in s)r in t.prototype||$(s,r,t);for(let r;(r=Object.getPrototypeOf(s))!==it&&r!=null&&!x.has(r);){x.add(r);for(let n of Object.getOwnPropertyNames(r))n in t.prototype||$(s,n,t)}}}Object.getOwnPropertyNames(window).filter(e=>e.startsWith("HTML")&&e.endsWith("Element")&&e.length>11).map(e=>e.substring(4,e.length-7).toLowerCase()).forEach(e=>U(d(e),a));function h(e,t=document,s=[]){let r=typeof e=="string"?t.querySelectorAll(e):f(e)?e:[e?e.shadowRoot||e:document];f(s)?s.length||(s=[...r].slice(0,256)):s=[s],s.forEach(o=>U(o,a));let n=new a;return n.push(...r),n}E();var Et=g;function ht(e,t,s){let r=document.createElement(e);return r[t]=s,r}var H=class extends g{static get observedAttributes(){return["template",...g.observedAttributes]}connectedCallback(){this._$=h(this),this.slotsInit(),super.connectedCallback()}attributeChangedCallback(t,s,r){if(t!=="template")return super.attributeChangedCallback(t,s,r);this.template=r,this.initialized&&this.slotsInit()}$(t){return t?this._$.$(t):this._$}fetch(t,s){return this.slotOnly("loading"),super.fetch(t,s).finally(()=>this.slotOnly(this.state))}setContent(t){if(this.slots.loaded){let s=this.slotClone("loaded");s.innerHTML=t,this.slotAdd(s)}else this.innerHTML=t}slotsInit(){this.slots||(this.slots={},this.$("[slot]").map(r=>this.slots[r.slot]=r));let t=this._$,s=t.attr("template");s?t.template(h("#"+s)):this.template?t.template(ht("template","innerHTML",this.template)):t.template(),this.src||this.slotOnly("loaded")}slotOnly(t){this.$("[slot-cloned]").filter(r=>r.slot!==t).remove(),this.$().slots(t).length&&this.$().slots().attr("hidden","hidden"),this.$(`[slot="${t}"][slot-cloned]`).length||this.slotAdd(t),this.$().slots(t).removeAttribute("hidden")}slotsClear(){this.$("[slot-cloned]").remove()}slotClone(t){let s=this.slots[t];if(!s)return;let r=s.cloneNode(!0);return r.setAttribute("slot-cloned",!0),r.hidden=!1,r}slotAdd(t){let s=t.slot?t:this.slotClone(t),r=this.$(`slot[name="${t.slot||t}"]`),n;for(let o of r)n=o.parentElement.insertBefore(s,o);return n}},gt=H;window.customElements.define("slotted-element",H);export{h as CssChain,Et as FetchElement,H as SlottedElement,_FetchElement,gt as default,T as toKebbabCase,u as wait4DomUpdated};
//# sourceMappingURL=slotted-element.js.map
